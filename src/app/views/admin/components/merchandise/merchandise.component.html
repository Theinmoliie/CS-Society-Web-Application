<!-- navbar -->
<nav class="navbar navbar-expand-lg" style="background-color: #6a0dad; padding: 16px 0;">
  <div class="container-fluid">
    <!-- <a class="navbar-brand text-white" href="#" style="font-size: 18px;">Navbar</a> -->
    <a href=""><img src="../assets/cs_logo.png" alt="cs_logo" style="width: 70px; height: 70px; margin-right: 40px; margin-left: 20px;"></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" style="font-size: 20px;">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active text-white" aria-current="page" [routerLink]="['/admin/home']" style="font-size: 20px; margin-right: 10px;">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" [routerLink]="['/admin/portfolio']"  style="font-size: 20px; margin-right: 10px;">Portfolio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link  text-white" [routerLink]="['/admin/merchandise']" style="font-size: 20px; margin-right: 10px;">Merchandise</a>
        </li>
        <li class="nav-item">
          <a class="nav-link  text-white" [routerLink]="['/admin/order']" style="font-size: 20px; margin-right: 10px;">View Orders</a>
        </li>
        <li class="nav-item">
          <a class="nav-link  text-white" [routerLink]="['/admin/participants']" style="font-size: 20px; margin-right: 10px;">Participants</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" [routerLink]="['/admin/view-event-details']" style="font-size: 20px; margin-right: 10px;">View Event Details</a>
        </li> 
        </ul>

        <!-- Logout Button - Push to the right -->
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <button class="btn btn-danger text-white" (click)="logout()" style="font-size: 18px; margin-left: 20px;">Logout</button>
          </li>
        </ul>

    </div>
  </div>
</nav>


<div class="container py-4">

  <!-- Title and Add Merchants Button -->
  <div class="d-flex align-items-center mb-4">
    <!-- Title -->
    <h1 class="fs-4 fw-bold text-dark">Merchandise Details</h1>

    <!-- Add Merchants Button -->
    <button
      (click)="openAddMerchantModal()"
      class="btn btn-primary ms-3"
      style="font-size: 1.0rem; background-color: #6a0dad; color: white; padding: 0.4rem 0.8rem; border: none;"
    >
      <i class="fas fa-plus-circle me-2" style="font-size: 0.75rem;"></i>
      <span>Add Merchandise</span>
    </button>
  </div>

  <!-- Merchandise Section -->
  <div class="bg-white shadow rounded overflow-hidden">
    <table class="table mb-0">
      <thead class="thead-light">
        <tr>
          <th class="px-3 py-2 text-sm fw-semibold" style="width: 15%;">ID</th>
          <th class="px-3 py-2 text-sm fw-semibold" style="width: 20%;">Name</th>
          <th class="px-3 py-2 text-sm fw-semibold" style="width: 5%;">Image</th>
          <th class="px-3 py-2 text-sm fw-semibold text-end" style="width: 10%;">Price (RM)</th>
          <th class="px-3 py-2 text-sm fw-semibold" style="width: 35%;">Description</th>
          <th class="px-3 py-2 text-sm fw-semibold" style="width: 15%;">Actions</th>
        </tr>
      </thead>
      <tbody>
          <ng-container *ngIf="merchandiseItem.length > 0; else noRecords">
              <tr *ngFor="let item of merchandiseItem; let i = index" class="align-middle">
                  <td class="px-3 py-2 text-muted small">{{ item.id }}</td>
                  <td class="px-3 py-2 text-muted small">{{ item.title }}</td>
                  <td class="px-3 py-2 text-muted small">
                    <a href="{{ item.imageUrl }}" target="_blank">
                    {{ item.imageUrl | slice: item.imageUrl.lastIndexOf('/') + 1 }}
                    </a>
                </td>
                  <td class="px-3 py-2 text-muted small text-end">{{ item.price | number:'1.2-2' }}</td>
                  <td class="px-3 py-2 text-muted small">{{ item.description }}</td>
                  <td class="px-3 py-2 text-muted small">
                    <button
                      (click)="editMerchandise(item)"
                      class="btn btn-primary btn-sm me-2"
                    >
                      Edit
                    </button>
                    <button
                      (click)="deleteMerchandise(item)"
                      class="btn btn-danger btn-sm"
                    >
                      Delete
                    </button>
                  </td>
                </tr>
          </ng-container>
          <ng-template #noRecords>
              <tr class="align-middle text-center" style="height: 4rem;">
                  <td colspan="8" class="fw-semibold text-muted fs-5">
                    No merchandise found.
                  </td>
              </tr>
          </ng-template>
      </tbody>
    </table>
  </div>
</div>
